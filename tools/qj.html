<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>半全角英文互转</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
</head>

<body>
    <br/>
    <div class="container">
        <h3>⧉ 全角半角转换器</h3>
        <hr>
    <div class="alert alert-info" role="alert">
        <span>转换功能使用JavaScript，不上传云端。</span>
    </div>
    <textarea class="form-control" id="input" rows="8" placeholder="请输入半角或全角或混合内容......"></textarea>
    <button onclick="convertToFullWidth()" class="btn btn-success btn-block mt-2">半角 > 全角</botton>
    <button onclick="convertToHalfWidth()" class="btn btn-primary btn-block mt-2">全角 > 半角</botton>
    <button id="copyButton" onclick="copyText()" class="btn btn-secondary btn-block mt-2">复制文本</botton>
    <button class="btn btn-outline-dark btn-block" disabled>在Minecraft里当艺术字很不错呢</botton>
    <button class="btn btn-outline-secondary btn-block" disabled>Made by HaShiQi&ChatGPT.</botton>
    </div>
    <hr>
    
    <script>
        function toFullWidth(str) {
            var result = '';
            for (var i = 0; i < str.length; i++) {
                var charCode = str.charCodeAt(i);
                if (charCode >= 33 && charCode <= 126) {
                    result += String.fromCharCode(charCode + 65248);
                } else {
                    result += str.charAt(i);
                }
            }
            return result;
        }

        function toHalfWidth(str) {
            var result = '';
            for (var i = 0; i < str.length; i++) {
                var charCode = str.charCodeAt(i);
                if (charCode >= 65281 && charCode <= 65374) {
                    result += String.fromCharCode(charCode - 65248);
                } else {
                    result += str.charAt(i);
                }
            }
            return result;
        }

        function convertToFullWidth() {
            var input = document.getElementById('input');
            input.value = toFullWidth(input.value);
        }

        function convertToHalfWidth() {
            var input = document.getElementById('input');
            input.value = toHalfWidth(input.value);
        }

        function copyText() {
            var textField = document.getElementById("input");
            textField.select();
            document.execCommand("copy");
            document.getElementById("copyButton").innerText = "--「复制成功」--"; // 将按钮文字修改为"xxx"
            setTimeout(function() {
                document.getElementById("copyButton").innerText = "复制文本"; // 三秒钟后恢复原始文字
            }, 3000); // 3000毫秒即3秒
        }
    </script>

    
</body>
</html>